# –ü–ª–∞–Ω –æ–±—ä—è–≤–ª–µ–Ω–∏–π —Ç—É—Ä–Ω–∏—Ä–æ–≤ –≤ Telegram

## –¶–µ–ª—å

–î–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—É —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç –∞–Ω–æ–Ω—Å–∞ —Ç—É—Ä–Ω–∏—Ä–∞ —Å:
- –∫–ª—é—á–µ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π (–¥–∞—Ç–∞/–≤—Ä–µ–º—è, –º–µ—Å—Ç–æ, —Ñ–æ—Ä–º–∞—Ç, –≤–∑–Ω–æ—Å, –ª–∏–º–∏—Ç—ã, —Ä–µ–≥–ª–∞–º–µ–Ω—Ç, —É—á–∞—Å—Ç–Ω–∏–∫–∏);
- –¥–≤—É–º—è —Å—Å—ã–ª–∫–∞–º–∏ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:
  - –Ω–∞ Telegram‚Äë–±–æ—Ç–∞ —Å deeplink –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç—É—Ä–Ω–∏—Ä;
  - –Ω–∞ –≤–µ–±‚Äë—Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç—É—Ä–Ω–∏—Ä–∞.

---

## –í–∞—Ä–∏–∞–Ω—Ç A. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –∞–Ω–æ–Ω—Å–∞ (–∫–æ–ø–∏‚Äë–ø–∞—Å—Ç)

**–ò–¥–µ—è:** —Å–µ—Ä–≤–∏—Å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –ø–æ –æ–±—ä–µ–∫—Ç—É `Tournament`. –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –∫–æ–ø–∏—Ä—É–µ—Ç –µ–≥–æ –∏ —Ä–∞–∑–º–µ—â–∞–µ—Ç —Ç–∞–º, –≥–¥–µ –Ω—É–∂–Ω–æ.

–ì–¥–µ –¥–æ—Å—Ç—É–ø–Ω–æ:
- –≤ Telegram‚Äë–±–æ—Ç–µ (–∫–Ω–æ–ø–∫–∞ ¬´üì£ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∞–Ω–æ–Ω—Å¬ª –≤ –∫–∞—Ä—Ç–æ—á–∫–µ —Ç—É—Ä–Ω–∏—Ä–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞);
- –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç—É—Ä–Ω–∏—Ä–∞ –≤ –≤–µ–±‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ (–∫–Ω–æ–ø–∫–∞ ¬´–¢–µ–∫—Å—Ç –∞–Ω–æ–Ω—Å–∞¬ª).

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏:**
- —Å–µ—Ä–≤–∏—Å `build_tournament_announcement(tournament: Tournament) -> str` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ `apps/tournaments/services/announcement_service.py`), –∫–æ—Ç–æ—Ä—ã–π:
  - —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –¥–∞—Ç—É/–≤—Ä–µ–º—è, –º–µ—Å—Ç–æ, –≤–∑–Ω–æ—Å, –ª–∏–º–∏—Ç—ã, –∫–∞—Ç–µ–≥–æ—Ä–∏—é;
  - –¥–æ–±–∞–≤–ª—è–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç—É—Ä–Ω–∏—Ä–∞ (`https://beachplay.ru/tournaments/{id}`);
  - —Å—Ç—Ä–æ–∏—Ç deeplink –¥–ª—è –±–æ—Ç–∞ (`https://t.me/<bot_username>?start=tournament_{id}` –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç);
  - —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ `TournamentEntry` (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ —Å—Ç—Ä–æ–∫ + ¬´‚Ä¶ –µ—â—ë N –∫–æ–º–∞–Ω–¥¬ª).
- –≤ –±–æ—Ç–µ: callback‚Äë—Ö–µ–Ω–¥–ª–µ—Ä –∫–Ω–æ–ø–∫–∏ ¬´üì£ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∞–Ω–æ–Ω—Å¬ª –≤—ã–∑—ã–≤–∞–µ—Ç —Å–µ—Ä–≤–∏—Å –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—É;
- –≤ –≤–µ–±–µ: API `GET /api/tournaments/{id}/announcement_text/` (—Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤/–∞–¥–º–∏–Ω–æ–≤), —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º –∏ –∫–Ω–æ–ø–∫–æ–π ¬´–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å¬ª.

**–ü–ª—é—Å—ã:**
- —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ª—é–±—ã—Ö —á–∞—Ç–æ–≤/–∫–∞–Ω–∞–ª–æ–≤, –¥–∞–∂–µ –±–µ–∑ —É—á–∞—Å—Ç–∏—è –±–æ—Ç–∞;
- –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è `chat_id` –∏ –ø—Ä–∞–≤ –±–æ—Ç–∞ –≤ —á—É–∂–∏—Ö –≥—Ä—É–ø–ø–∞—Ö;
- –ª–µ–≥–∫–æ —Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–µ—Ä–µ–æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ç—É—Ä–Ω–∏—Ä–∞.

---

## –í–∞—Ä–∏–∞–Ω—Ç B. –ö–æ–ø–∏‚Äë–ø–∞—Å—Ç + –∞–≤—Ç–æ–ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π —á–∞—Ç

**–ò–¥–µ—è:** –ø–æ–≤–µ—Ä—Ö –í–∞—Ä–∏–∞–Ω—Ç–∞ A –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –ø—Ä–∏–≤—è–∑–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —á–∞—Ç (–≥—Ä—É–ø–ø—É/–∫–∞–Ω–∞–ª) –∫ —Ç—É—Ä–Ω–∏—Ä—É –∏ –ø—Ä–æ—Å–∏—Ç—å –±–æ—Ç–∞ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å/–æ–±–Ω–æ–≤–ª—è—Ç—å –∞–Ω–æ–Ω—Å —Ç–∞–º.

**–ú–µ—Ö–∞–Ω–∏–∫–∞:**
- –ø—Ä–∏–≤—è–∑–∫–∞ —á–∞—Ç–∞:
  - –±–æ—Ç –ø—Ä–æ—Å–∏—Ç: ¬´–ü–µ—Ä–µ—à–ª–∏ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –≥—Ä—É–ø–ø—ã/–∫–∞–Ω–∞–ª–∞ –¥–ª—è –∞–Ω–æ–Ω—Å–æ–≤¬ª;
  - –ø–æ –ø–µ—Ä–µ—Å–ª–∞–Ω–Ω–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é –±–µ—Ä—ë—Ç—Å—è `chat_id` –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å–≤—è–∑–∫–∞ `tournament_id ‚Üî chat_id`.
- –ø—É–±–ª–∏–∫–∞—Ü–∏—è:
  - –∫–Ω–æ–ø–∫–∞ ¬´üì§ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∞–Ω–æ–Ω—Å¬ª ‚Äî –±–æ—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç, —à–ª—ë—Ç –µ–≥–æ –≤ `chat_id`, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `message_id`;
- –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:
  - –∫–Ω–æ–ø–∫–∞ ¬´‚úèÔ∏è –û–±–Ω–æ–≤–∏—Ç—å –∞–Ω–æ–Ω—Å¬ª ‚Äî –±–æ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–º `chat_id` –∏ `message_id`.

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∫ A –Ω—É–∂–Ω–æ:**
- –º–æ–¥–µ–ª—å/—Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è `announcement_chat_id`, `announcement_message_id` (–∏, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫);
- —Ö–µ–Ω–¥–ª–µ—Ä—ã –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ —á–∞—Ç–∞ –∏ —Ä–∞–±–æ—Ç—ã —Å `send_message` / `edit_message_text`.

---

## –í–∞—Ä–∏–∞–Ω—Ç C. –¢–æ–ª—å–∫–æ –≤–µ–±‚Äë–∫–Ω–æ–ø–∫–∞ (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ä—Ç)

–†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å –Ω–∞ —Å–∞–π—Ç–µ:
- —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç—É—Ä–Ω–∏—Ä–∞ ‚Üí –∫–Ω–æ–ø–∫–∞ ¬´–¢–µ–∫—Å—Ç –∞–Ω–æ–Ω—Å–∞¬ª ‚Üí –º–æ–¥–∞–ª–∫–∞ —Å –≥–æ—Ç–æ–≤—ã–º —Ç–µ–∫—Å—Ç–æ–º;
- —Å–µ—Ä–≤–∏—Å `build_tournament_announcement` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑ –≤–µ–±‚ÄëAPI;
- –ø–æ–∑–∂–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ –∂–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤ –±–æ—Ç–∞ (–í–∞—Ä–∏–∞–Ω—Ç A) –∏ –∞–≤—Ç–æ–ø—É–±–ª–∏–∫–∞—Ü–∏—é (–í–∞—Ä–∏–∞–Ω—Ç B).

---

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø—É—Ç—å –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

1. –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ (–∫–∞–∫–∏–µ –ø–æ–ª—è —Ç—É—Ä–Ω–∏—Ä–∞ –Ω—É–∂–Ω—ã –∏ –≤ –∫–∞–∫–æ–º –≤–∏–¥–µ, —Ñ–æ—Ä–º–∞—Ç deeplink‚Äë—Å—Å—ã–ª–∫–∏ –±–æ—Ç–∞).
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å `build_tournament_announcement` –Ω–∞ –±–µ–∫–µ–Ω–¥–µ.
3. –ü–æ–¥–∫–ª—é—á–∏—Ç—å –µ–≥–æ –∫ Telegram‚Äë–±–æ—Ç—É (–∫–Ω–æ–ø–∫–∞ ¬´üì£ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∞–Ω–æ–Ω—Å¬ª –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞).
4. –ü–æ–¥–∫–ª—é—á–∏—Ç—å –µ–≥–æ –∫ –≤–µ–±‚Äë—Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç—É—Ä–Ω–∏—Ä–∞ (–∫–Ω–æ–ø–∫–∞ ¬´–¢–µ–∫—Å—Ç –∞–Ω–æ–Ω—Å–∞¬ª).
5. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ö–∞–Ω–∏–∫—É –ø—Ä–∏–≤—è–∑–∫–∏ —á–∞—Ç–∞ –∏ –∞–≤—Ç–æ–ø—É–±–ª–∏–∫–∞—Ü–∏–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∞–Ω–æ–Ω—Å–∞ (–í–∞—Ä–∏–∞–Ω—Ç B).
